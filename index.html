<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>לימוד נצרות לכיתה ז'</title>
    <style>
        /* סגנונות */
        body { 
            font-family: Arial, sans-serif; 
            direction: rtl; 
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .section, .question { 
            margin-top: 20px; 
            display: none;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .hint { 
            color: #666;
            padding: 10px;
            background-color: #fff3cd;
            border-radius: 4px;
            margin: 10px 0;
        }
        .icon { 
            cursor: pointer; 
            margin-right: 10px;
            font-size: 1.2em;
            padding: 5px;
            border-radius: 50%;
            background-color: #e9ecef;
            display: inline-block;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
        }
        .active { 
            display: block; 
        }
        button {
            padding: 8px 16px;
            margin: 10px 0;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #45a049;
        }
        .progress {
            margin: 20px 0;
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 4px;
            text-align: center;
            font-weight: bold;
        }
        .feedback {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            text-align: center;
        }
        .feedback.success {
            background-color: #d4edda;
            color: #155724;
        }
        .feedback.error {
            background-color: #f8d7da;
            color: #721c24;
        }
        .results-container {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            margin: 10px 0;
        }
        .question {
            display: none;
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 15px 0;
        }

        .options label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .progress {
            width: 0%;
            height: 20px;
            background-color: #4CAF50;
            text-align: center;
            line-height: 20px;
            color: white;
            transition: width 0.3s ease;
        }

        #results {
            display: none;
            text-align: center;
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }
        
        .section-content {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .question-section {
            background-color: #e9f7ef;
            padding: 20px;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .hidden {
            display: none !important;
        }
        
        .active {
            display: block !important;
        }

        .unit-header {
            background-color: #4CAF50;
            color: white;
            padding: 15px;
            border-radius: 8px 8px 0 0;
            margin-bottom: 20px;
            text-align: center;
        }

        .learning-phase, .question-phase {
            display: none;
        }

        .learning-phase.active, .question-phase.active {
            display: block;
        }

        .navigation-hint {
            background-color: #e8f5e9;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            text-align: center;
            font-size: 0.9em;
        }

        .back-to-material {
            background-color: #2196F3 !important;
        }

        .back-to-material:hover {
            background-color: #1976D2 !important;
        }

        .progress-container {
            background-color: #e9ecef;
            border-radius: 4px;
            padding: 10px;
            margin: 20px 0;
        }

        .progress-text {
            text-align: center;
            margin-bottom: 5px;
        }

        .progress-bar {
            height: 20px;
            background-color: #4CAF50;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <h1>לימוד נצרות לכיתה ז'</h1>
    <div id="content">
        <!-- Units will be generated here -->
    </div>
    <script>
        const learningUnits = [
            {
                id: 1,
                title: "רקע היסטורי - ארץ ישראל תחת שלטון רומי",
                content: `בתקופת הולדת הנצרות, ארץ ישראל הייתה תחת שלטון האימפריה הרומית. השלטון הרומי החל בשנת 63 לפנה"ס והשפיע מאוד על החיים הדתיים והחברתיים של התושבים.

בתקופה זו התקיימו בארץ ישראל זרמים דתיים שונים:
• פרושים - שמרו על המצוות והתורה
• צדוקים - האמינו רק בתורה שבכתב
• איסיים - חיו בקהילות מבודדות
• קנאים - התנגדו לשלטון הרומי`,
                question: {
                    text: "מתי החל השלטון הרומי בארץ ישראל?",
                    hint: "חשוב על תקופת פומפיוס.",
                    options: [
                        { text: "63 לפנה\"ס", correct: true },
                        { text: "70 לספירה", correct: false },
                        { text: "132 לספירה", correct: false }
                    ]
                }
            },
            {
                id: 2,
                title: "לידת הנצרות - ישו ותורתו",
                content: `הנצרות החלה את דרכה כתנועה יהודית קטנה בארץ ישראל. ישו, מייסד הדת, היה יהודי שלימד את תורתו בקרב היהודים.

עיקרי תורתו של ישו:
• אהבת האל ואהבת הזולת
• פרשנות חדשה למצוות היהדות
• הטפה לחיי צניעות וענווה
• אמונה שהוא המשיח שנשלח לגאול את האנושות

ישו הטיף בעיקר בגליל ובירושלים, וסביבו התקבצו תלמידים שהאמינו בתורתו.`,
                question: {
                    text: "מה היו עיקרי תורתו של ישו?",
                    hint: "חשוב על היחס לזולת ולאל",
                    options: [
                        { text: "רק קיום מצוות", correct: false },
                        { text: "אהבת האל והזולת", correct: true },
                        { text: "התנגדות לרומאים", correct: false },
                        { text: "לימוד פילוסופיה", correct: false }
                    ]
                }
            },
            {
                id: 3,
                title: "עיקרי האמונה הנוצרית",
                content: `הנצרות היא דת מונותאיסטית המבוססת על כמה עיקרי אמונה מרכזיים:

1. השילוש הקדוש:
• האב (האל)
• הבן (ישו)
• רוח הקודש

2. האמונה בישו כמשיח:
• נולד מרוח הקודש
• מת על הצלב לכפר על חטאי האנושות
• קם לתחייה לאחר שלושה ימים

3. התגלמות:
• ישו הוא התגלמות אלוהית בדמות אדם
• ירד לעולם כדי לגאול את האנושות מחטאיה`,
                question: {
                    text: "ממה מורכב השילוש הקדוש?",
                    hint: "שלושת המרכיבים העיקריים באמונה",
                    options: [
                        { text: "משה, אהרון ומרים", correct: false },
                        { text: "האב, הבן ורוח הקודש", correct: true },
                        { text: "אברהם, יצחק ויעקב", correct: false },
                        { text: "פטרוס, פאולוס ויוחנן", correct: false }
                    ]
                }
            },
            {
                id: 4,
                title: "הסקרמנטים - טקסים מקודשים",
                content: `בנצרות ישנם שבעה טקסים מקודשים (סקרמנטים) חשובים:

1. טבילה (Baptism):
• טקס הכניסה לנצרות
• סמל ללידה מחדש בחיי האמונה

2. אישוש (Confirmation):
• טקס התבגרות דתי
• משיחה בשמן קדוש (חמר)

3. האוכריסטיה (מיסה):
• הטקס המרכזי בפולחן הנוצרי
• אכילת לחם ושתיית יין המסמלים את גופו ודמו של ישו

4. וידוי:
• הודאה בחטאים בפני הכומר
• קבלת מחילה

5. נישואין
6. הסמכה לכהונה
7. משיחה אחרונה`,
                question: {
                    text: "מה מסמלת הטבילה בנצרות?",
                    hint: "משמעות הטקס לחיי המאמין",
                    options: [
                        { text: "טהרה מחטאים", correct: false },
                        { text: "לידה מחדש באמונה", correct: true },
                        { text: "הסמכה לכהונה", correct: false },
                        { text: "נישואין", correct: false }
                    ]
                }
            }
        ];

        let currentUnit = 1;
        let answers = {};
        const totalUnits = learningUnits.length;

        function generateUnits() {
            const container = document.getElementById('content');
            const unitsHTML = learningUnits.map(unit => `
                <div class="learning-unit ${unit.id === 1 ? 'active' : 'hidden'}" id="unit${unit.id}">
                    <div class="unit-header">
                        <h2>יחידה ${unit.id}: ${unit.title}</h2>
                    </div>
                    
                    <div class="learning-phase active" id="learning${unit.id}">
                        <div class="section-content">
                            <p id="explanation${unit.id}">${unit.content}</p>
                            <span class="icon" onclick="readAloud('explanation${unit.id}')">🔊</span>
                        </div>
                        
                        <div class="navigation-hint">
                            קרא את החומר בעיון ולחץ על "למעבר לשאלה" כשאתה מוכן
                        </div>
                        
                        <div class="navigation-buttons">
                            <button onclick="previousUnit()" ${unit.id === 1 ? 'disabled' : ''}>הקודם</button>
                            <button onclick="showQuestion(${unit.id})">למעבר לשאלה</button>
                        </div>
                    </div>
                    
                    <div class="question-phase" id="question${unit.id}">
                        <div class="question-section">
                            <h3>שאלה על ${unit.title}</h3>
                            <p id="q${unit.id}">${unit.question.text}</p>
                            <button onclick="showHint(${unit.id})">רמז</button>
                            <button class="back-to-material" onclick="backToMaterial(${unit.id})">חזרה לחומר הלימוד</button>
                            <p class="hint hidden" id="hint${unit.id}">${unit.question.hint}</p>
                            <div class="options">
                                ${unit.question.options.map(option => `
                                    <label>
                                        <input type="radio" name="q${unit.id}" value="${option.correct ? '1' : '0'}">
                                        ${option.text}
                                    </label>
                                `).join('')}
                            </div>
                            <div id="feedback${unit.id}"></div>
                        </div>
                        
                        <div class="navigation-buttons">
                            <button onclick="previousUnit()" ${unit.id === 1 ? 'disabled' : ''}>הקודם</button>
                            <button onclick="checkAndProceed(${unit.id})">${unit.id === learningUnits.length ? 'סיים' : 'הבא'}</button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            container.innerHTML = `
                <div class="progress-container">
                    <div class="progress-text" id="progress"></div>
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                ${unitsHTML}
            `;
        }

        function checkAndProceed(unitId) {
            const selected = document.querySelector(`input[name="q${unitId}"]:checked`);
            const feedbackDiv = document.getElementById(`feedback${unitId}`);
            
            if (!selected) {
                feedbackDiv.innerHTML = '<div class="feedback">אנא בחר תשובה</div>';
                return;
            }
            
            answers[unitId] = {
                answer: selected.value === "1",
                attempted: true
            };
            
            if (selected.value === "1") {
                feedbackDiv.innerHTML = '<div class="feedback success">נכון! כל הכבוד! 🎉</div>';
                setTimeout(() => nextUnit(), 1500);
            } else {
                feedbackDiv.innerHTML = '<div class="feedback error">לא נכון. נסה שוב! 🤔</div>';
            }
        }

        function nextUnit() {
            if (currentUnit < totalUnits) {
                document.querySelector(`#unit${currentUnit}`).classList.add('hidden');
                document.querySelector(`#unit${currentUnit}`).classList.remove('active');
                currentUnit++;
                document.querySelector(`#unit${currentUnit}`).classList.remove('hidden');
                document.querySelector(`#unit${currentUnit}`).classList.add('active');
                updateProgress();
            } else {
                showFinalResults();
            }
        }

        function previousUnit() {
            if (currentUnit > 1) {
                document.querySelector(`#unit${currentUnit}`).classList.add('hidden');
                document.querySelector(`#unit${currentUnit}`).classList.remove('active');
                currentUnit--;
                document.querySelector(`#unit${currentUnit}`).classList.remove('hidden');
                document.querySelector(`#unit${currentUnit}`).classList.add('active');
                updateProgress();
            }
        }

        function showHint(unitId) {
            const hint = document.getElementById(`hint${unitId}`);
            hint.classList.toggle('hidden');
        }

        function updateProgress() {
            const progressElement = document.getElementById('progress');
            const progressBar = document.getElementById('progressBar');
            const percentage = (currentUnit / totalUnits) * 100;
            
            progressElement.textContent = `יחידה ${currentUnit} מתוך ${totalUnits}: ${learningUnits[currentUnit-1].title}`;
            progressBar.style.width = `${percentage}%`;
        }

        function showFinalResults() {
            const correct = Object.values(answers).filter(a => a.answer).length;
            const total = Object.values(answers).length;
            const percentage = Math.round((correct / total) * 100);
            
            const content = document.getElementById('content');
            content.innerHTML = `
                <div class="results-container">
                    <h2>סיימת את המבחן!</h2>
                    <p>ענית נכון על ${correct} שאלות מתוך ${total}</p>
                    <p>ציון סופי: ${percentage}%</p>
                    <button onclick="location.reload()">התחל מחדש</button>
                </div>
            `;
        }

        function readAloud(elementId) {
            const text = document.getElementById(elementId).innerText;
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'he-IL';
            speechSynthesis.speak(utterance);
        }

        function showQuestion(unitId) {
            document.querySelector(`#learning${unitId}`).classList.remove('active');
            document.querySelector(`#question${unitId}`).classList.add('active');
        }

        function backToMaterial(unitId) {
            document.querySelector(`#question${unitId}`).classList.remove('active');
            document.querySelector(`#learning${unitId}`).classList.add('active');
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            generateUnits();
            updateProgress();
        });
    </script>
</body>
</html>
