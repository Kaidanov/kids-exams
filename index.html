<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×œ×™××•×“ × ×¦×¨×•×ª ×œ×›×™×ª×” ×–'</title>
    <style>
        /* ×¡×’× ×•× ×•×ª */
        body { 
            font-family: Arial, sans-serif; 
            direction: rtl; 
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .section, .question { 
            margin-top: 20px; 
            display: none;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .hint { 
            color: #666;
            padding: 10px;
            background-color: #fff3cd;
            border-radius: 4px;
            margin: 10px 0;
        }
        .icon { 
            cursor: pointer; 
            margin-right: 10px;
            font-size: 1.2em;
            padding: 5px;
            border-radius: 50%;
            background-color: #e9ecef;
            display: inline-block;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
        }
        .active { 
            display: block; 
        }
        button {
            padding: 8px 16px;
            margin: 10px 0;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #45a049;
        }
        .progress {
            margin: 20px 0;
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 4px;
            text-align: center;
            font-weight: bold;
        }
        .feedback {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            text-align: center;
        }
        .feedback.success {
            background-color: #d4edda;
            color: #155724;
        }
        .feedback.error {
            background-color: #f8d7da;
            color: #721c24;
        }
        .results-container {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            margin: 10px 0;
        }
        .question {
            display: none;
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 15px 0;
        }

        .options label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .progress {
            width: 0%;
            height: 20px;
            background-color: #4CAF50;
            text-align: center;
            line-height: 20px;
            color: white;
            transition: width 0.3s ease;
        }

        #results {
            display: none;
            text-align: center;
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }
        
        .section-content {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .question-section {
            background-color: #e9f7ef;
            padding: 20px;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .hidden {
            display: none !important;
        }
        
        .active {
            display: block !important;
        }

        .unit-header {
            background-color: #4CAF50;
            color: white;
            padding: 15px;
            border-radius: 8px 8px 0 0;
            margin-bottom: 20px;
            text-align: center;
        }

        .learning-phase, .question-phase {
            display: none;
        }

        .learning-phase.active, .question-phase.active {
            display: block;
        }

        .navigation-hint {
            background-color: #e8f5e9;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            text-align: center;
            font-size: 0.9em;
        }

        .back-to-material {
            background-color: #2196F3 !important;
        }

        .back-to-material:hover {
            background-color: #1976D2 !important;
        }

        .progress-container {
            background-color: #e9ecef;
            border-radius: 4px;
            padding: 10px;
            margin: 20px 0;
        }

        .progress-text {
            text-align: center;
            margin-bottom: 5px;
        }

        .progress-bar {
            height: 20px;
            background-color: #4CAF50;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <h1>×œ×™××•×“ × ×¦×¨×•×ª ×œ×›×™×ª×” ×–'</h1>
    <div id="content">
        <!-- Units will be generated here -->
    </div>
    <script>
        const learningUnits = [
            {
                id: 1,
                title: "×¨×§×¢ ×”×™×¡×˜×•×¨×™ - ××¨×¥ ×™×©×¨××œ ×ª×—×ª ×©×œ×˜×•×Ÿ ×¨×•××™",
                content: `×‘×ª×§×•×¤×ª ×”×•×œ×“×ª ×”× ×¦×¨×•×ª, ××¨×¥ ×™×©×¨××œ ×”×™×™×ª×” ×ª×—×ª ×©×œ×˜×•×Ÿ ×”××™××¤×¨×™×” ×”×¨×•××™×ª. ×”×©×œ×˜×•×Ÿ ×”×¨×•××™ ×”×—×œ ×‘×©× ×ª 63 ×œ×¤× ×”"×¡ ×•×”×©×¤×™×¢ ×××•×“ ×¢×œ ×”×—×™×™× ×”×“×ª×™×™× ×•×”×—×‘×¨×ª×™×™× ×©×œ ×”×ª×•×©×‘×™×.

×‘×ª×§×•×¤×” ×–×• ×”×ª×§×™×™××• ×‘××¨×¥ ×™×©×¨××œ ×–×¨××™× ×“×ª×™×™× ×©×•× ×™×:
â€¢ ×¤×¨×•×©×™× - ×©××¨×• ×¢×œ ×”××¦×•×•×ª ×•×”×ª×•×¨×”
â€¢ ×¦×“×•×§×™× - ×”×××™× ×• ×¨×§ ×‘×ª×•×¨×” ×©×‘×›×ª×‘
â€¢ ××™×¡×™×™× - ×—×™×• ×‘×§×”×™×œ×•×ª ××‘×•×“×“×•×ª
â€¢ ×§× ××™× - ×”×ª× ×’×“×• ×œ×©×œ×˜×•×Ÿ ×”×¨×•××™`,
                question: {
                    text: "××ª×™ ×”×—×œ ×”×©×œ×˜×•×Ÿ ×”×¨×•××™ ×‘××¨×¥ ×™×©×¨××œ?",
                    hint: "×—×©×•×‘ ×¢×œ ×ª×§×•×¤×ª ×¤×•××¤×™×•×¡.",
                    options: [
                        { text: "63 ×œ×¤× ×”\"×¡", correct: true },
                        { text: "70 ×œ×¡×¤×™×¨×”", correct: false },
                        { text: "132 ×œ×¡×¤×™×¨×”", correct: false }
                    ]
                }
            },
            {
                id: 2,
                title: "×œ×™×“×ª ×”× ×¦×¨×•×ª - ×™×©×• ×•×ª×•×¨×ª×•",
                content: `×”× ×¦×¨×•×ª ×”×—×œ×” ××ª ×“×¨×›×” ×›×ª× ×•×¢×” ×™×”×•×“×™×ª ×§×˜× ×” ×‘××¨×¥ ×™×©×¨××œ. ×™×©×•, ××™×™×¡×“ ×”×“×ª, ×”×™×” ×™×”×•×“×™ ×©×œ×™××“ ××ª ×ª×•×¨×ª×• ×‘×§×¨×‘ ×”×™×”×•×“×™×.

×¢×™×§×¨×™ ×ª×•×¨×ª×• ×©×œ ×™×©×•:
â€¢ ××”×‘×ª ×”××œ ×•××”×‘×ª ×”×–×•×œ×ª
â€¢ ×¤×¨×©× ×•×ª ×—×“×©×” ×œ××¦×•×•×ª ×”×™×”×“×•×ª
â€¢ ×”×˜×¤×” ×œ×—×™×™ ×¦× ×™×¢×•×ª ×•×¢× ×•×•×”
â€¢ ×××•× ×” ×©×”×•× ×”××©×™×— ×©× ×©×œ×— ×œ×’××•×œ ××ª ×”×× ×•×©×•×ª

×™×©×• ×”×˜×™×£ ×‘×¢×™×§×¨ ×‘×’×œ×™×œ ×•×‘×™×¨×•×©×œ×™×, ×•×¡×‘×™×‘×• ×”×ª×§×‘×¦×• ×ª×œ××™×“×™× ×©×”×××™× ×• ×‘×ª×•×¨×ª×•.`,
                question: {
                    text: "××” ×”×™×• ×¢×™×§×¨×™ ×ª×•×¨×ª×• ×©×œ ×™×©×•?",
                    hint: "×—×©×•×‘ ×¢×œ ×”×™×—×¡ ×œ×–×•×œ×ª ×•×œ××œ",
                    options: [
                        { text: "×¨×§ ×§×™×•× ××¦×•×•×ª", correct: false },
                        { text: "××”×‘×ª ×”××œ ×•×”×–×•×œ×ª", correct: true },
                        { text: "×”×ª× ×’×“×•×ª ×œ×¨×•×××™×", correct: false },
                        { text: "×œ×™××•×“ ×¤×™×œ×•×¡×•×¤×™×”", correct: false }
                    ]
                }
            },
            {
                id: 3,
                title: "×¢×™×§×¨×™ ×”×××•× ×” ×”× ×•×¦×¨×™×ª",
                content: `×”× ×¦×¨×•×ª ×”×™× ×“×ª ××•× ×•×ª××™×¡×˜×™×ª ×”××‘×•×¡×¡×ª ×¢×œ ×›××” ×¢×™×§×¨×™ ×××•× ×” ××¨×›×–×™×™×:

1. ×”×©×™×œ×•×© ×”×§×“×•×©:
â€¢ ×”××‘ (×”××œ)
â€¢ ×”×‘×Ÿ (×™×©×•)
â€¢ ×¨×•×— ×”×§×•×“×©

2. ×”×××•× ×” ×‘×™×©×• ×›××©×™×—:
â€¢ × ×•×œ×“ ××¨×•×— ×”×§×•×“×©
â€¢ ××ª ×¢×œ ×”×¦×œ×‘ ×œ×›×¤×¨ ×¢×œ ×—×˜××™ ×”×× ×•×©×•×ª
â€¢ ×§× ×œ×ª×—×™×™×” ×œ××—×¨ ×©×œ×•×©×” ×™××™×

3. ×”×ª×’×œ××•×ª:
â€¢ ×™×©×• ×”×•× ×”×ª×’×œ××•×ª ××œ×•×”×™×ª ×‘×“××•×ª ××“×
â€¢ ×™×¨×“ ×œ×¢×•×œ× ×›×“×™ ×œ×’××•×œ ××ª ×”×× ×•×©×•×ª ××—×˜××™×”`,
                question: {
                    text: "×××” ××•×¨×›×‘ ×”×©×™×œ×•×© ×”×§×“×•×©?",
                    hint: "×©×œ×•×©×ª ×”××¨×›×™×‘×™× ×”×¢×™×§×¨×™×™× ×‘×××•× ×”",
                    options: [
                        { text: "××©×”, ××”×¨×•×Ÿ ×•××¨×™×", correct: false },
                        { text: "×”××‘, ×”×‘×Ÿ ×•×¨×•×— ×”×§×•×“×©", correct: true },
                        { text: "××‘×¨×”×, ×™×¦×—×§ ×•×™×¢×§×‘", correct: false },
                        { text: "×¤×˜×¨×•×¡, ×¤××•×œ×•×¡ ×•×™×•×—× ×Ÿ", correct: false }
                    ]
                }
            },
            {
                id: 4,
                title: "×”×¡×§×¨×× ×˜×™× - ×˜×§×¡×™× ××§×•×“×©×™×",
                content: `×‘× ×¦×¨×•×ª ×™×©× × ×©×‘×¢×” ×˜×§×¡×™× ××§×•×“×©×™× (×¡×§×¨×× ×˜×™×) ×—×©×•×‘×™×:

1. ×˜×‘×™×œ×” (Baptism):
â€¢ ×˜×§×¡ ×”×›× ×™×¡×” ×œ× ×¦×¨×•×ª
â€¢ ×¡××œ ×œ×œ×™×“×” ××—×“×© ×‘×—×™×™ ×”×××•× ×”

2. ××™×©×•×© (Confirmation):
â€¢ ×˜×§×¡ ×”×ª×‘×’×¨×•×ª ×“×ª×™
â€¢ ××©×™×—×” ×‘×©××Ÿ ×§×“×•×© (×—××¨)

3. ×”××•×›×¨×™×¡×˜×™×” (××™×¡×”):
â€¢ ×”×˜×§×¡ ×”××¨×›×–×™ ×‘×¤×•×œ×—×Ÿ ×”× ×•×¦×¨×™
â€¢ ××›×™×œ×ª ×œ×—× ×•×©×ª×™×™×ª ×™×™×Ÿ ×”××¡××œ×™× ××ª ×’×•×¤×• ×•×“××• ×©×œ ×™×©×•

4. ×•×™×“×•×™:
â€¢ ×”×•×“××” ×‘×—×˜××™× ×‘×¤× ×™ ×”×›×•××¨
â€¢ ×§×‘×œ×ª ××—×™×œ×”

5. × ×™×©×•××™×Ÿ
6. ×”×¡××›×” ×œ×›×”×•× ×”
7. ××©×™×—×” ××—×¨×•× ×”`,
                question: {
                    text: "××” ××¡××œ×ª ×”×˜×‘×™×œ×” ×‘× ×¦×¨×•×ª?",
                    hint: "××©××¢×•×ª ×”×˜×§×¡ ×œ×—×™×™ ×”××××™×Ÿ",
                    options: [
                        { text: "×˜×”×¨×” ××—×˜××™×", correct: false },
                        { text: "×œ×™×“×” ××—×“×© ×‘×××•× ×”", correct: true },
                        { text: "×”×¡××›×” ×œ×›×”×•× ×”", correct: false },
                        { text: "× ×™×©×•××™×Ÿ", correct: false }
                    ]
                }
            }
        ];

        let currentUnit = 1;
        let answers = {};
        const totalUnits = learningUnits.length;

        function generateUnits() {
            const container = document.getElementById('content');
            const unitsHTML = learningUnits.map(unit => `
                <div class="learning-unit ${unit.id === 1 ? 'active' : 'hidden'}" id="unit${unit.id}">
                    <div class="unit-header">
                        <h2>×™×—×™×“×” ${unit.id}: ${unit.title}</h2>
                    </div>
                    
                    <div class="learning-phase active" id="learning${unit.id}">
                        <div class="section-content">
                            <p id="explanation${unit.id}">${unit.content}</p>
                            <span class="icon" onclick="readAloud('explanation${unit.id}')">ğŸ”Š</span>
                        </div>
                        
                        <div class="navigation-hint">
                            ×§×¨× ××ª ×”×—×•××¨ ×‘×¢×™×•×Ÿ ×•×œ×—×¥ ×¢×œ "×œ××¢×‘×¨ ×œ×©××œ×”" ×›×©××ª×” ××•×›×Ÿ
                        </div>
                        
                        <div class="navigation-buttons">
                            <button onclick="previousUnit()" ${unit.id === 1 ? 'disabled' : ''}>×”×§×•×“×</button>
                            <button onclick="showQuestion(${unit.id})">×œ××¢×‘×¨ ×œ×©××œ×”</button>
                        </div>
                    </div>
                    
                    <div class="question-phase" id="question${unit.id}">
                        <div class="question-section">
                            <h3>×©××œ×” ×¢×œ ${unit.title}</h3>
                            <p id="q${unit.id}">${unit.question.text}</p>
                            <button onclick="showHint(${unit.id})">×¨××–</button>
                            <button class="back-to-material" onclick="backToMaterial(${unit.id})">×—×–×¨×” ×œ×—×•××¨ ×”×œ×™××•×“</button>
                            <p class="hint hidden" id="hint${unit.id}">${unit.question.hint}</p>
                            <div class="options">
                                ${unit.question.options.map(option => `
                                    <label>
                                        <input type="radio" name="q${unit.id}" value="${option.correct ? '1' : '0'}">
                                        ${option.text}
                                    </label>
                                `).join('')}
                            </div>
                            <div id="feedback${unit.id}"></div>
                        </div>
                        
                        <div class="navigation-buttons">
                            <button onclick="previousUnit()" ${unit.id === 1 ? 'disabled' : ''}>×”×§×•×“×</button>
                            <button onclick="checkAndProceed(${unit.id})">${unit.id === learningUnits.length ? '×¡×™×™×' : '×”×‘×'}</button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            container.innerHTML = `
                <div class="progress-container">
                    <div class="progress-text" id="progress"></div>
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                ${unitsHTML}
            `;
        }

        function checkAndProceed(unitId) {
            const selected = document.querySelector(`input[name="q${unitId}"]:checked`);
            const feedbackDiv = document.getElementById(`feedback${unitId}`);
            
            if (!selected) {
                feedbackDiv.innerHTML = '<div class="feedback">×× × ×‘×—×¨ ×ª×©×•×‘×”</div>';
                return;
            }
            
            answers[unitId] = {
                answer: selected.value === "1",
                attempted: true
            };
            
            if (selected.value === "1") {
                feedbackDiv.innerHTML = '<div class="feedback success">× ×›×•×Ÿ! ×›×œ ×”×›×‘×•×“! ğŸ‰</div>';
                setTimeout(() => nextUnit(), 1500);
            } else {
                feedbackDiv.innerHTML = '<div class="feedback error">×œ× × ×›×•×Ÿ. × ×¡×” ×©×•×‘! ğŸ¤”</div>';
            }
        }

        function nextUnit() {
            if (currentUnit < totalUnits) {
                document.querySelector(`#unit${currentUnit}`).classList.add('hidden');
                document.querySelector(`#unit${currentUnit}`).classList.remove('active');
                currentUnit++;
                document.querySelector(`#unit${currentUnit}`).classList.remove('hidden');
                document.querySelector(`#unit${currentUnit}`).classList.add('active');
                updateProgress();
            } else {
                showFinalResults();
            }
        }

        function previousUnit() {
            if (currentUnit > 1) {
                document.querySelector(`#unit${currentUnit}`).classList.add('hidden');
                document.querySelector(`#unit${currentUnit}`).classList.remove('active');
                currentUnit--;
                document.querySelector(`#unit${currentUnit}`).classList.remove('hidden');
                document.querySelector(`#unit${currentUnit}`).classList.add('active');
                updateProgress();
            }
        }

        function showHint(unitId) {
            const hint = document.getElementById(`hint${unitId}`);
            hint.classList.toggle('hidden');
        }

        function updateProgress() {
            const progressElement = document.getElementById('progress');
            const progressBar = document.getElementById('progressBar');
            const percentage = (currentUnit / totalUnits) * 100;
            
            progressElement.textContent = `×™×—×™×“×” ${currentUnit} ××ª×•×š ${totalUnits}: ${learningUnits[currentUnit-1].title}`;
            progressBar.style.width = `${percentage}%`;
        }

        function showFinalResults() {
            const correct = Object.values(answers).filter(a => a.answer).length;
            const total = Object.values(answers).length;
            const percentage = Math.round((correct / total) * 100);
            
            const content = document.getElementById('content');
            content.innerHTML = `
                <div class="results-container">
                    <h2>×¡×™×™××ª ××ª ×”××‘×—×Ÿ!</h2>
                    <p>×¢× ×™×ª × ×›×•×Ÿ ×¢×œ ${correct} ×©××œ×•×ª ××ª×•×š ${total}</p>
                    <p>×¦×™×•×Ÿ ×¡×•×¤×™: ${percentage}%</p>
                    <button onclick="location.reload()">×”×ª×—×œ ××—×“×©</button>
                </div>
            `;
        }

        function readAloud(elementId) {
            const text = document.getElementById(elementId).innerText;
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'he-IL';
            speechSynthesis.speak(utterance);
        }

        function showQuestion(unitId) {
            document.querySelector(`#learning${unitId}`).classList.remove('active');
            document.querySelector(`#question${unitId}`).classList.add('active');
        }

        function backToMaterial(unitId) {
            document.querySelector(`#question${unitId}`).classList.remove('active');
            document.querySelector(`#learning${unitId}`).classList.add('active');
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            generateUnits();
            updateProgress();
        });
    </script>
</body>
</html>
